import{importShared as $}from"./__federation_fn_import-ROHmt-Wr.js";import{j as y,a5 as ye,y as Ae,E as Ce,a6 as De,b as Pe,T as Ke,X as Re,a7 as Oe}from"./useForkRef-BcC6EfDH.js";import{R as Ve}from"./index-yS4O4EzY.js";import{a as Ne,b as Ge}from"./index-BhLNPnap.js";import{T as qe}from"./emotion-element-f0de968e.browser.esm-mLxcZAZI.js";const He=await $("react"),be=He.createContext(null),Fe=await $("react");function Z(){return Fe.useContext(be)}const Ue=typeof Symbol=="function"&&Symbol.for,Ye=Ue?Symbol.for("mui.nested"):"__THEME_NESTED__",Be=await $("react");function ze(t,e){return typeof e=="function"?e(t):{...t,...e}}function Qe(t){const{children:e,theme:o}=t,r=Z(),c=Be.useMemo(()=>{const l=r===null?{...o}:ze(r,o);return l!=null&&(l[Ye]=r!==null),l},[o,r]);return y.jsx(be.Provider,{value:c,children:e})}await $("react");function Xe(t){const e=ye(),o=Ae()||"",{modularCssLayers:r}=t;let c="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||e!==null?c="":typeof r=="string"?c=r.replace(/mui(?!\.)/g,c):c=`@layer ${c};`,Ce(()=>{const l=document.querySelector("head");if(!l)return;const n=l.firstChild;if(c){if(n&&n.hasAttribute?.("data-mui-layer-order")&&n.getAttribute("data-mui-layer-order")===o)return;const m=document.createElement("style");m.setAttribute("data-mui-layer-order",o),m.textContent=c,l.prepend(m)}else l.querySelector(`style[data-mui-layer-order="${o}"]`)?.remove()},[c,o]),c?y.jsx(Ne,{styles:c}):null}const Je=await $("react"),fe={};function Se(t,e,o,r=!1){return Je.useMemo(()=>{const c=t&&e[t]||e;if(typeof o=="function"){const l=o(c),n=t?{...e,[t]:l}:l;return r?()=>n:n}return t?{...e,[t]:o}:{...e,...o}},[t,e,o,r])}function Ze(t){const{children:e,theme:o,themeId:r}=t,c=ye(fe),l=Z()||fe,n=Se(r,c,o),m=Se(r,l,o,!0),S=(r?n[r]:n).direction==="rtl",g=Xe(n);return y.jsx(Qe,{theme:m,children:y.jsx(qe.Provider,{value:n,children:y.jsx(Ve,{value:S,children:y.jsxs(De,{value:r?n[r].components:n.components,children:[g,e]})})})})}await $("react");const W="mode",ee="color-scheme",We="data-color-scheme";function Me(t){const{defaultMode:e="system",defaultLightColorScheme:o="light",defaultDarkColorScheme:r="dark",modeStorageKey:c=W,colorSchemeStorageKey:l=ee,attribute:n=We,colorSchemeNode:m="document.documentElement",nonce:S}=t||{};let g="",h=n;if(n==="class"&&(h=".%s"),n==="data"&&(h="[data-%s]"),h.startsWith(".")){const f=h.substring(1);g+=`${m}.classList.remove('${f}'.replace('%s', light), '${f}'.replace('%s', dark));
      ${m}.classList.add('${f}'.replace('%s', colorScheme));`}const E=h.match(/\[([^[\]]+)\]/);if(E){const[f,p]=E[1].split("=");p||(g+=`${m}.removeAttribute('${f}'.replace('%s', light));
      ${m}.removeAttribute('${f}'.replace('%s', dark));`),g+=`
      ${m}.setAttribute('${f}'.replace('%s', colorScheme), ${p?`${p}.replace('%s', colorScheme)`:'""'});`}else g+=`${m}.setAttribute('${h}', colorScheme);`;return y.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?S:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${c}') || '${e}';
  const dark = localStorage.getItem('${l}-dark') || '${r}';
  const light = localStorage.getItem('${l}-light') || '${o}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${g}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function et(){}const tt=({key:t,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(o){if(typeof window>"u")return;if(!e)return o;let r;try{r=e.localStorage.getItem(t)}catch{}return r||o},set:o=>{if(e)try{e.localStorage.setItem(t,o)}catch{}},subscribe:o=>{if(!e)return et;const r=c=>{const l=c.newValue;c.key===t&&o(l)};return e.addEventListener("storage",r),()=>{e.removeEventListener("storage",r)}}}),k=await $("react");function J(){}function ge(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function ke(t,e){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return e("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return e("dark")}function ot(t){return ke(t,e=>{if(e==="light")return t.lightColorScheme;if(e==="dark")return t.darkColorScheme})}function rt(t){const{defaultMode:e="light",defaultLightColorScheme:o,defaultDarkColorScheme:r,supportedColorSchemes:c=[],modeStorageKey:l=W,colorSchemeStorageKey:n=ee,storageWindow:m=typeof window>"u"?void 0:window,storageManager:S=tt,noSsr:g=!1}=t,h=c.join(","),E=c.length>1,f=k.useMemo(()=>S?.({key:l,storageWindow:m}),[S,l,m]),p=k.useMemo(()=>S?.({key:`${n}-light`,storageWindow:m}),[S,n,m]),v=k.useMemo(()=>S?.({key:`${n}-dark`,storageWindow:m}),[S,n,m]),[I,D]=k.useState(()=>{const i=f?.get(e)||e,s=p?.get(o)||o,a=v?.get(r)||r;return{mode:i,systemMode:ge(i),lightColorScheme:s,darkColorScheme:a}}),[_,H]=k.useState(g||!E);k.useEffect(()=>{H(!0)},[]);const R=ot(I),O=k.useCallback(i=>{D(s=>{if(i===s.mode)return s;const a=i??e;return f?.set(a),{...s,mode:a,systemMode:ge(a)}})},[f,e]),P=k.useCallback(i=>{i?typeof i=="string"?i&&!h.includes(i)?console.error(`\`${i}\` does not exist in \`theme.colorSchemes\`.`):D(s=>{const a={...s};return ke(s,d=>{d==="light"&&(p?.set(i),a.lightColorScheme=i),d==="dark"&&(v?.set(i),a.darkColorScheme=i)}),a}):D(s=>{const a={...s},d=i.light===null?o:i.light,A=i.dark===null?r:i.dark;return d&&(h.includes(d)?(a.lightColorScheme=d,p?.set(d)):console.error(`\`${d}\` does not exist in \`theme.colorSchemes\`.`)),A&&(h.includes(A)?(a.darkColorScheme=A,v?.set(A)):console.error(`\`${A}\` does not exist in \`theme.colorSchemes\`.`)),a}):D(s=>(p?.set(o),v?.set(r),{...s,lightColorScheme:o,darkColorScheme:r}))},[h,p,v,o,r]),V=k.useCallback(i=>{I.mode==="system"&&D(s=>{const a=i?.matches?"dark":"light";return s.systemMode===a?s:{...s,systemMode:a}})},[I.mode]),G=k.useRef(V);return G.current=V,k.useEffect(()=>{if(typeof window.matchMedia!="function"||!E)return;const i=(...a)=>G.current(...a),s=window.matchMedia("(prefers-color-scheme: dark)");return s.addListener(i),i(s),()=>{s.removeListener(i)}},[E]),k.useEffect(()=>{if(E){const i=f?.subscribe(d=>{(!d||["light","dark","system"].includes(d))&&O(d||e)})||J,s=p?.subscribe(d=>{(!d||h.match(d))&&P({light:d})})||J,a=v?.subscribe(d=>{(!d||h.match(d))&&P({dark:d})})||J;return()=>{i(),s(),a()}}},[P,O,h,e,m,E,f,p,v]),{...I,mode:_?I.mode:void 0,systemMode:_?I.systemMode:void 0,colorScheme:_?R:void 0,setMode:O,setColorScheme:P}}const w=await $("react"),nt="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function st(t){const{themeId:e,theme:o={},modeStorageKey:r=W,colorSchemeStorageKey:c=ee,disableTransitionOnChange:l=!1,defaultColorScheme:n,resolveTheme:m}=t,S={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},g=w.createContext(void 0),h=()=>w.useContext(g)||S,E={},f={};function p(_){const{children:H,theme:R,modeStorageKey:O=r,colorSchemeStorageKey:P=c,disableTransitionOnChange:V=l,storageManager:G,storageWindow:i=typeof window>"u"?void 0:window,documentNode:s=typeof document>"u"?void 0:document,colorSchemeNode:a=typeof document>"u"?void 0:document.documentElement,disableNestedContext:d=!1,disableStyleSheetGeneration:A=!1,defaultMode:we="system",forceThemeRerender:Ee=!1,noSsr:xe}=_,F=w.useRef(!1),$e=Z(),U=w.useContext(g),Y=!!U&&!d,te=w.useMemo(()=>R||(typeof o=="function"?o():o),[R]),oe=te[e],C=oe||te,{colorSchemes:j=E,components:re=f,cssVarPrefix:B}=C,ne=Object.keys(j).filter(b=>!!j[b]).join(","),K=w.useMemo(()=>ne.split(","),[ne]),se=typeof n=="string"?n:n.light,ce=typeof n=="string"?n:n.dark,ve=j[se]&&j[ce]?we:j[C.defaultColorScheme]?.palette?.mode||C.palette?.mode,{mode:Le,setMode:ie,systemMode:ae,lightColorScheme:le,darkColorScheme:me,colorScheme:Ie,setColorScheme:de}=rt({supportedColorSchemes:K,defaultLightColorScheme:se,defaultDarkColorScheme:ce,modeStorageKey:O,colorSchemeStorageKey:P,defaultMode:ve,storageManager:G,storageWindow:i,noSsr:xe});let z=Le,T=Ie;Y&&(z=U.mode,T=U.colorScheme);let q=T||C.defaultColorScheme;C.vars&&!Ee&&(q=C.defaultColorScheme);const Q=w.useMemo(()=>{const b=C.generateThemeVars?.()||C.vars,u={...C,components:re,colorSchemes:j,cssVarPrefix:B,vars:b};if(typeof u.generateSpacing=="function"&&(u.spacing=u.generateSpacing()),q){const M=j[q];M&&typeof M=="object"&&Object.keys(M).forEach(x=>{M[x]&&typeof M[x]=="object"?u[x]={...u[x],...M[x]}:u[x]=M[x]})}return m?m(u):u},[C,q,re,j,B]),N=C.colorSchemeSelector;Ce(()=>{if(T&&a&&N&&N!=="media"){const b=N;let u=N;if(b==="class"&&(u=".%s"),b==="data"&&(u="[data-%s]"),b?.startsWith("data-")&&!b.includes("%s")&&(u=`[${b}="%s"]`),u.startsWith("."))a.classList.remove(...K.map(M=>u.substring(1).replace("%s",M))),a.classList.add(u.substring(1).replace("%s",T));else{const M=u.replace("%s",T).match(/\[([^\]]+)\]/);if(M){const[x,X]=M[1].split("=");X||K.forEach(_e=>{a.removeAttribute(x.replace(T,_e))}),a.setAttribute(x,X?X.replace(/"|'/g,""):"")}else a.setAttribute(u,T)}}},[T,N,a,K]),w.useEffect(()=>{let b;if(V&&F.current&&s){const u=s.createElement("style");u.appendChild(s.createTextNode(nt)),s.head.appendChild(u),window.getComputedStyle(s.body),b=setTimeout(()=>{s.head.removeChild(u)},1)}return()=>{clearTimeout(b)}},[T,V,s]),w.useEffect(()=>(F.current=!0,()=>{F.current=!1}),[]);const je=w.useMemo(()=>({allColorSchemes:K,colorScheme:T,darkColorScheme:me,lightColorScheme:le,mode:z,setColorScheme:de,setMode:ie,systemMode:ae}),[K,T,me,le,z,de,ie,ae,Q.colorSchemeSelector]);let ue=!0;(A||C.cssVariables===!1||Y&&$e?.cssVarPrefix===B)&&(ue=!1);const he=y.jsxs(w.Fragment,{children:[y.jsx(Ze,{themeId:oe?e:void 0,theme:Q,children:H}),ue&&y.jsx(Ge,{styles:Q.generateStyleSheets?.()||[]})]});return Y?he:y.jsx(g.Provider,{value:je,children:he})}const v=typeof n=="string"?n:n.light,I=typeof n=="string"?n:n.dark;return{CssVarsProvider:p,useColorScheme:h,getInitColorSchemeScript:_=>Me({colorSchemeStorageKey:c,defaultLightColorScheme:v,defaultDarkColorScheme:I,modeStorageKey:r,..._})}}await $("react");const L={attribute:"data-mui-color-scheme",colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"};function ut(t){const{defaultMode:e="system",defaultLightColorScheme:o=L.defaultLightColorScheme,defaultDarkColorScheme:r=L.defaultDarkColorScheme,modeStorageKey:c=L.modeStorageKey,colorSchemeStorageKey:l=L.colorSchemeStorageKey,attribute:n=L.attribute,colorSchemeNode:m="document.documentElement",nonce:S}=t;return y.jsx(Me,{defaultMode:e,defaultLightColorScheme:o,defaultDarkColorScheme:r,modeStorageKey:c,colorSchemeStorageKey:l,attribute:n,colorSchemeNode:m,nonce:S})}await $("react");const{CssVarsProvider:Te,useColorScheme:ht,getInitColorSchemeScript:ct}=st({themeId:Ke,theme:()=>Pe({cssVariables:!0}),colorSchemeStorageKey:L.colorSchemeStorageKey,modeStorageKey:L.modeStorageKey,defaultColorScheme:{light:L.defaultLightColorScheme,dark:L.defaultDarkColorScheme},resolveTheme:t=>{const e={...t,typography:Re(t.palette,t.typography)};return e.unstable_sx=function(r){return Oe({sx:r,theme:this})},e}});function ft(t){return y.jsx(Te,{...t})}let pe=!1;const St=t=>(pe||(console.warn(["MUI: The getInitColorSchemeScript function has been deprecated.","","You should use `import InitColorSchemeScript from '@mui/material/InitColorSchemeScript'`","and replace the function call with `<InitColorSchemeScript />` instead."].join(`
`)),pe=!0),ct(t)),gt=Te;export{gt as C,ft as E,ut as I,Ze as T,St as g,ht as u};
//# sourceMappingURL=ThemeProviderWithVars-hoftLGdG.js.map
