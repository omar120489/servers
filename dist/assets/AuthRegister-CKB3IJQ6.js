import{importShared as S}from"./__federation_fn_import-CJIdJiQv.js";import{j as e}from"./useForkRef-BC7kqYKT.js";import{a as T,u as V,o as $}from"./useAuth-gpoeUZ-p.js";import{F as D,c as M,a as d}from"./formik.esm-5mQln88F.js";import{A as O}from"./AnimateButton-CtU13Uu0.js";import{C as c}from"./CustomFormControl-DYO5qZVr.js";import{u as G}from"./useScriptRef-B1Ou_bIU.js";import{s as Z,a as H}from"./password-strength-Bgoot3mc.js";import{V as U,a as Y}from"./VisibilityOff-CGi2pO1E.js";import{S as y}from"./Stack-B5BVBH1D.js";import{T as u}from"./Typography-DFd_zA1D.js";import{G as j}from"./Grid-s-sihYX_.js";import{b as h,O as p,F as J}from"./OutlinedInput-DFKZAVh6.js";import{F as i}from"./FormHelperText-BLwmyjL3.js";import{I as K}from"./InputAdornment-D_aBeDhu.js";import{I as Q}from"./IconButton-BEyrMm9G.js";import{B as x}from"./Box-DmbfI6Tx.js";import{F as X,C as _}from"./FormControlLabel-vZQf_QTl.js";import{d as ee}from"./Button-Bgis-uOM.js";const{useEffect:se,useState:f}=await S("react"),{Link:te,useNavigate:re,useSearchParams:ae}=await S("react-router-dom");function Se({...v}){const C=re(),w=G(),k=T(),[g,P]=f(!1),[B,A]=f(!0),[I,L]=f(0),[b,q]=f(),{register:z}=V(),E=()=>{P(!g)},W=s=>{s.preventDefault()},N=s=>{const t=Z(s);L(t),q(H(t))};se(()=>{N("123456")},[]);const[R]=ae(),F=R.get("auth");return e.jsxs(e.Fragment,{children:[e.jsx(y,{sx:{mb:2,alignItems:"center"},children:e.jsx(u,{variant:"subtitle1",children:"Sign up with Email address"})}),e.jsx(D,{initialValues:{email:"",password:"",firstName:"",lastName:"",submit:null},validationSchema:M().shape({firstName:d().trim().required("First name is required").min(2,"First name must be at least 2 characters").max(50,"First name must not exceed 50 characters").matches(/^[A-Za-z\s]+$/,"First name can only contain letters and spaces"),lastName:d().trim().required("Last name is required").min(2,"Last name must be at least 2 characters").max(50,"Last name must not exceed 50 characters").matches(/^[A-Za-z\s]+$/,"Last name can only contain letters and spaces"),email:d().email("Must be a valid email").max(255).required("Email is required"),password:d().max(255).required("Password is required")}),onSubmit:async(s,{setErrors:t,setStatus:a,setSubmitting:n})=>{try{await z?.(s.email,s.password,s.firstName,s.lastName),w.current&&(a({success:!0}),n(!1),k($({open:!0,message:"Your registration has been successfully completed.",variant:"alert",alert:{color:"success"},close:!1})),setTimeout(()=>{C(F?`/check-mail?auth=${F}`:"/check-mail",{replace:!0})},1500))}catch(o){console.error(o),w.current&&(a({success:!1}),t({submit:o.message}),n(!1))}},children:({errors:s,handleBlur:t,handleChange:a,handleSubmit:n,isSubmitting:o,touched:r,values:l})=>e.jsxs("form",{noValidate:!0,onSubmit:n,...v,children:[e.jsxs(j,{container:!0,spacing:{xs:0,md:2},children:[e.jsx(j,{size:{xs:12,sm:6},children:e.jsxs(c,{fullWidth:!0,error:!!(r.firstName&&s.firstName),children:[e.jsx(h,{htmlFor:"outlined-adornment-first-register",children:"First Name"}),e.jsx(p,{id:"outlined-adornment-first-register",type:"text",name:"firstName",value:l.firstName,onBlur:t,onChange:a}),r.firstName&&s.firstName&&e.jsx(i,{error:!0,id:"standard-weight-helper-text--register",children:s.firstName})]})}),e.jsx(j,{size:{xs:12,sm:6},children:e.jsxs(c,{fullWidth:!0,error:!!(r.lastName&&s.lastName),children:[e.jsx(h,{htmlFor:"outlined-adornment-last-register",children:"Last Name"}),e.jsx(p,{id:"outlined-adornment-last-register",type:"text",name:"lastName",value:l.lastName,onBlur:t,onChange:a}),r.lastName&&s.lastName&&e.jsx(i,{error:!0,id:"standard-weight-helper-text--register",children:s.lastName})]})})]}),e.jsxs(c,{fullWidth:!0,error:!!(r.email&&s.email),children:[e.jsx(h,{htmlFor:"outlined-adornment-email-register",children:"Email Address / Username"}),e.jsx(p,{id:"outlined-adornment-email-register",type:"email",value:l.email,name:"email",onBlur:t,onChange:a}),r.email&&s.email&&e.jsx(i,{error:!0,id:"standard-weight-helper-text--register",children:s.email})]}),e.jsxs(c,{fullWidth:!0,error:!!(r.password&&s.password),children:[e.jsx(h,{htmlFor:"outlined-adornment-password-register",children:"Password"}),e.jsx(p,{id:"outlined-adornment-password-register",type:g?"text":"password",value:l.password,name:"password",label:"Password",onBlur:t,onChange:m=>{a(m),N(m.target.value)},endAdornment:e.jsx(K,{position:"end",children:e.jsx(Q,{"aria-label":"toggle password visibility",onClick:E,onMouseDown:W,edge:"end",size:"large",children:g?e.jsx(U,{}):e.jsx(Y,{})})})}),r.password&&s.password&&e.jsx(i,{error:!0,id:"standard-weight-helper-text-password-register",children:s.password})]}),I!==0&&e.jsx(J,{fullWidth:!0,children:e.jsx(x,{sx:{mb:2},children:e.jsxs(y,{direction:"row",sx:{alignItems:"center",gap:2},children:[e.jsx(x,{sx:{width:85,height:8,borderRadius:"7px",bgcolor:b?.color}}),e.jsx(u,{variant:"subtitle1",sx:{fontSize:"0.75rem"},children:b?.label})]})})}),e.jsx(X,{control:e.jsx(_,{checked:B,onChange:m=>A(m.target.checked),name:"checked",color:"primary"}),label:e.jsxs(u,{variant:"subtitle1",children:["Agree with Â ",e.jsx(u,{variant:"subtitle1",component:te,to:"#",children:"Terms & Condition."})]})}),s.submit&&e.jsx(x,{sx:{mt:3},children:e.jsx(i,{error:!0,children:s.submit})}),e.jsx(x,{sx:{mt:2},children:e.jsx(O,{children:e.jsx(ee,{disableElevation:!0,disabled:o,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Sign up"})})})]})})]})}export{Se as default};
//# sourceMappingURL=AuthRegister-CKB3IJQ6.js.map
