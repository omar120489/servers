{"version":3,"file":"AppPage-CfPA9hni.js","sources":["../../src/layouts/AppPage.tsx"],"sourcesContent":["import { ReactNode } from 'react';\nimport {\n  Alert, Box, Breadcrumbs, Button, Skeleton, Stack, Typography\n} from '@mui/material';\nimport MainCard from 'ui-component/cards/MainCard';\n\nconst BERRY_MAX_WIDTH = 1200;      // matches Berry preview feel (≈ 1200–1240px)\nconst GUTTER_X = { xs: 2, sm: 3, lg: 4 }; // left/right padding\nconst SECTION_GAP = 2;             // vertical rhythm (16px)\n\ntype AppPageProps = {\n  title: string;\n  subtitle?: string;\n  breadcrumbs?: ReactNode;\n  actions?: ReactNode;\n  toolbar?: ReactNode;\n  loading?: boolean;\n  error?: string | Error | null;\n  empty?: boolean;\n  emptySlot?: ReactNode;\n  loadingSlot?: ReactNode;\n  errorSlot?: ReactNode;\n  children?: ReactNode;\n  footer?: ReactNode;\n  padding?: number;\n  gap?: number;\n  ariaLabel?: string;\n  onRetry?: () => void;\n};\n\nexport default function AppPage({\n  title,\n  subtitle,\n  breadcrumbs,\n  actions,\n  toolbar,\n  loading,\n  error,\n  empty,\n  emptySlot,\n  loadingSlot,\n  errorSlot,\n  children,\n  footer,\n  padding = 3,\n  gap = SECTION_GAP,\n  ariaLabel,\n  onRetry\n}: AppPageProps) {\n  const hasError = !!error;\n  const isEmpty = !!empty && !loading && !hasError;\n  const errorText =\n    typeof error === 'string' ? error : error instanceof Error ? error.message : 'Something went wrong.';\n\n  return (\n    <Box\n      id=\"page-frame\"\n      sx={{\n        width: '100%',\n        display: 'flex',\n        justifyContent: 'center',\n        // hard lock to Berry preview frame\n        px: GUTTER_X,\n        overflowX: 'hidden',           // stop horizontal scroll/bleed\n      }}\n    >\n      <Box\n        sx={{\n          width: '100%',\n          maxWidth: BERRY_MAX_WIDTH,\n        }}\n      >\n        <MainCard title={undefined} content={false}>\n          <Box\n            aria-label={ariaLabel ?? title}\n            sx={{\n              p: padding,\n              display: 'flex',\n              flexDirection: 'column',\n              gap,\n              position: 'relative',\n              // containment so children can't escape the card\n              overflow: 'hidden',\n              // make nested flex boxes truncate instead of overflow\n              '& *': { minWidth: 0 },\n              // media should never overflow the frame\n              '& img, & video, & canvas': { maxWidth: '100%', height: 'auto' }\n            }}\n          >\n            {/* Header */}\n            <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', gap: 2 }}>\n              <Box sx={{ display: 'flex', flexDirection: 'column', gap: 0.5, minWidth: 0 }}>\n                {breadcrumbs && <Breadcrumbs sx={{ mb: 0.25 }} separator=\"›\">{breadcrumbs}</Breadcrumbs>}\n                <Typography variant=\"h4\" noWrap>{title}</Typography>\n                {subtitle && <Typography variant=\"body2\" color=\"text.secondary\" noWrap>{subtitle}</Typography>}\n              </Box>\n              {actions && <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, flexShrink: 0 }}>{actions}</Box>}\n            </Box>\n\n            {/* Toolbar */}\n            {toolbar && <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>{toolbar}</Box>}\n\n            {/* Content switcher */}\n            {loading ? (\n              loadingSlot ?? (\n                <Stack data-testid=\"page-skeletons\" spacing={1}>\n                  {[...Array(6)].map((_, i) => <Skeleton key={i} height={28} variant=\"rounded\" />)}\n                </Stack>\n              )\n            ) : hasError ? (\n              errorSlot ?? (\n                <Alert\n                  severity=\"error\"\n                  action={onRetry ? <Button color=\"inherit\" size=\"small\" onClick={onRetry}>Retry</Button> : undefined}\n                >\n                  {errorText}\n                </Alert>\n              )\n            ) : isEmpty ? (\n              emptySlot ?? (\n                <Box sx={{ py: 8, textAlign: 'center' }}>\n                  <Typography variant=\"h4\" color=\"text.secondary\" sx={{ mt: 2 }}>Nothing here yet</Typography>\n                  <Typography variant=\"body2\" color=\"text.secondary\">Try adjusting filters or come back later.</Typography>\n                </Box>\n              )\n            ) : (\n              <Box>{children}</Box>\n            )}\n\n            {/* Footer */}\n            {footer && <Box sx={{ display: 'flex', justifyContent: 'center' }}>{footer}</Box>}\n          </Box>\n        </MainCard>\n      </Box>\n    </Box>\n  );\n}\n\n"],"names":["Alert","Box","Breadcrumbs","Button","Skeleton","Stack","Typography","importShared","BERRY_MAX_WIDTH","GUTTER_X","SECTION_GAP","AppPage","title","subtitle","breadcrumbs","actions","toolbar","loading","error","empty","emptySlot","loadingSlot","errorSlot","children","footer","padding","gap","ariaLabel","onRetry","hasError","isEmpty","errorText","jsx","MainCard","jsxs","_","i"],"mappings":"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"}