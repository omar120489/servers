import{c as Y,a as B}from"./redux-Ce6b05if.js";var I="persist:",H="persist/FLUSH",T="persist/REHYDRATE",L="persist/PAUSE",W="persist/PERSIST",C="persist/PURGE",G="persist/REGISTER",M=-1;function _(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(r){return typeof r}:_=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_(e)}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A(r,!0).forEach(function(n){X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(r).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e,t,r,n){n.debug;var i=J({},r);return e&&_(e)==="object"&&Object.keys(e).forEach(function(u){u!=="_persist"&&t[u]===r[u]&&(i[u]=e[u])}),i}function Q(e){var t=e.blacklist||null,r=e.whitelist||null,n=e.transforms||[],i=e.throttle||0,u="".concat(e.keyPrefix!==void 0?e.keyPrefix:I).concat(e.key),l=e.storage,f;e.serialize===!1?f=function(h){return h}:typeof e.serialize=="function"?f=e.serialize:f=V;var o=e.writeFailHandler||null,a={},v={},s=[],y=null,d=null,R=function(h){Object.keys(h).forEach(function(c){b(c)&&a[c]!==h[c]&&s.indexOf(c)===-1&&s.push(c)}),Object.keys(a).forEach(function(c){h[c]===void 0&&b(c)&&s.indexOf(c)===-1&&a[c]!==void 0&&s.push(c)}),y===null&&(y=setInterval(O,i)),a=h};function O(){if(s.length===0){y&&clearInterval(y),y=null;return}var p=s.shift(),h=n.reduce(function(c,g){return g.in(c,p,a)},a[p]);if(h!==void 0)try{v[p]=f(h)}catch(c){console.error("redux-persist/createPersistoid: error serializing state",c)}else delete v[p];s.length===0&&w()}function w(){Object.keys(v).forEach(function(p){a[p]===void 0&&delete v[p]}),d=l.setItem(u,f(v)).catch(E)}function b(p){return!(r&&r.indexOf(p)===-1&&p!=="_persist"||t&&t.indexOf(p)!==-1)}function E(p){o&&o(p)}var j=function(){for(;s.length!==0;)O();return d||Promise.resolve()};return{update:R,flush:j}}function V(e){return JSON.stringify(e)}function Z(e){var t=e.transforms||[],r="".concat(e.keyPrefix!==void 0?e.keyPrefix:I).concat(e.key),n=e.storage;e.debug;var i;return e.deserialize===!1?i=function(l){return l}:typeof e.deserialize=="function"?i=e.deserialize:i=k,n.getItem(r).then(function(u){if(u)try{var l={},f=i(u);return Object.keys(f).forEach(function(o){l[o]=t.reduceRight(function(a,v){return v.out(a,o,f)},i(f[o]))}),l}catch(o){throw o}else return})}function k(e){return JSON.parse(e)}function ee(e){var t=e.storage,r="".concat(e.keyPrefix!==void 0?e.keyPrefix:I).concat(e.key);return t.removeItem(r,re)}function re(e){}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z(r,!0).forEach(function(n){te(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(r).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ne(e,t){if(e==null)return{};var r=ie(e,t),n,i;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)n=u[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ie(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,u;for(u=0;u<n.length;u++)i=n[u],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var ue=5e3;function se(e,t){var r=e.version!==void 0?e.version:M;e.debug;var n=e.stateReconciler===void 0?q:e.stateReconciler,i=e.getStoredState||Z,u=e.timeout!==void 0?e.timeout:ue,l=null,f=!1,o=!0,a=function(s){return s._persist.rehydrated&&l&&!o&&l.update(s),s};return function(v,s){var y=v||{},d=y._persist,R=ne(y,["_persist"]),O=R;if(s.type===W){var w=!1,b=function(D,P){w||(s.rehydrate(e.key,D,P),w=!0)};if(u&&setTimeout(function(){!w&&b(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))},u),o=!1,l||(l=Q(e)),d)return m({},t(O,s),{_persist:d});if(typeof s.rehydrate!="function"||typeof s.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return s.register(e.key),i(e).then(function(g){var D=e.migrate||function(P,de){return Promise.resolve(P)};D(g,r).then(function(P){b(P)},function(P){b(void 0,P)})},function(g){b(void 0,g)}),m({},t(O,s),{_persist:{version:r,rehydrated:!1}})}else{if(s.type===C)return f=!0,s.result(ee(e)),m({},t(O,s),{_persist:d});if(s.type===H)return s.result(l&&l.flush()),m({},t(O,s),{_persist:d});if(s.type===L)o=!0;else if(s.type===T){if(f)return m({},O,{_persist:m({},d,{rehydrated:!0})});if(s.key===e.key){var E=t(O,s),j=s.payload,p=n!==!1&&j!==void 0?n(j,v,E,e):E,h=m({},p,{_persist:m({},d,{rehydrated:!0})});return a(h)}}}if(!d)return t(v,s);var c=t(O,s);return c===O?v:a(m({},c,{_persist:d}))}}function S(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S=function(r){return typeof r}:S=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},S(e)}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U(r,!0).forEach(function(n){oe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(r).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ae(e,t,r,n){n.debug;var i=$({},r);return e&&S(e)==="object"&&Object.keys(e).forEach(function(u){if(u!=="_persist"&&t[u]===r[u]){if(fe(r[u])){i[u]=$({},i[u],{},e[u]);return}i[u]=e[u]}}),i}function fe(e){return e!==null&&!Array.isArray(e)&&S(e)==="object"}function he(e,t){return e.stateReconciler=e.stateReconciler===void 0?ae:e.stateReconciler,se(e,Y(t))}function K(e){return ce(e)||pe(e)||le()}function le(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function pe(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function ce(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F(r,!0).forEach(function(n){ve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(r).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var N={registry:[],bootstrapped:!1},ye=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case G:return x({},t,{registry:[].concat(K(t.registry),[r.key])});case T:var n=t.registry.indexOf(r.key),i=K(t.registry);return i.splice(n,1),x({},t,{registry:i,bootstrapped:i.length===0});default:return t}};function me(e,t,r){var n=r||!1,i=B(ye,N,t&&t.enhancer?t.enhancer:void 0),u=function(a){i.dispatch({type:G,key:a})},l=function(a,v,s){var y={type:T,payload:v,err:s,key:a};e.dispatch(y),i.dispatch(y),n&&f.getState().bootstrapped&&(n(),n=!1)},f=x({},i,{purge:function(){var a=[];return e.dispatch({type:C,result:function(s){a.push(s)}}),Promise.all(a)},flush:function(){var a=[];return e.dispatch({type:H,result:function(s){a.push(s)}}),Promise.all(a)},pause:function(){e.dispatch({type:L})},persist:function(){e.dispatch({type:W,register:u,rehydrate:l})}});return t&&t.manualPersist||f.persist(),f}function be(e,t){var r=t||{};return r.debug,function(n,i){if(!n)return Promise.resolve(void 0);var u=n._persist&&n._persist.version!==void 0?n._persist.version:M;if(u===i||u>i)return Promise.resolve(n);var l=Object.keys(e).map(function(o){return parseInt(o)}).filter(function(o){return i>=o&&o>u}).sort(function(o,a){return o-a});try{var f=l.reduce(function(o,a){return e[a](o)},n);return Promise.resolve(f)}catch(o){return Promise.reject(o)}}}function Pe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=r.whitelist||null,i=r.blacklist||null;function u(l){return!!(n&&n.indexOf(l)===-1||i&&i.indexOf(l)!==-1)}return{in:function(f,o,a){return!u(o)&&e?e(f,o,a):f},out:function(f,o,a){return!u(o)&&t?t(f,o,a):f}}}export{M as DEFAULT_VERSION,H as FLUSH,I as KEY_PREFIX,L as PAUSE,W as PERSIST,C as PURGE,G as REGISTER,T as REHYDRATE,be as createMigrate,Q as createPersistoid,Pe as createTransform,Z as getStoredState,he as persistCombineReducers,se as persistReducer,me as persistStore,ee as purgeStoredState};
//# sourceMappingURL=__federation_shared_redux-persist-CLLTiYpi.js.map
