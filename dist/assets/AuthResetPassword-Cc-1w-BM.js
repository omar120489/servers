import{importShared as y}from"./__federation_fn_import-ROHmt-Wr.js";import{j as s}from"./useForkRef-BcC6EfDH.js";import{P as q}from"./index-DPd4syO_.js";import{F as $,c as z,a as j}from"./formik.esm-BDPjx_Ed.js";import{u as D,d as E,o as L}from"./useAuth-BzjTK7K8.js";import{u as O}from"./useScriptRef-BDOReukG.js";import{A as G}from"./AnimateButton-N8956-bY.js";import{C as P}from"./CustomFormControl-DKaMyQB2.js";import{s as M,a as H}from"./password-strength-Bgoot3mc.js";import{V as N,a as J}from"./VisibilityOff-C2Ym0vR9.js";import{b,O as v,F as l}from"./OutlinedInput-B7rhNNoC.js";import{I as K}from"./InputAdornment-XCd-Rvcx.js";import{I as Q}from"./IconButton-BDu7nrsd.js";import{F as m}from"./FormHelperText-D_FQF2TV.js";import{B as n}from"./Box-BoOsA6HK.js";import{G as c}from"./Grid-CeCTsQEQ.js";import{T as U}from"./Typography-DjCnPsjL.js";import{d as X}from"./Button-BSxsv2fQ.js";const{useEffect:Y,useState:u}=await y("react"),{useNavigate:Z,useSearchParams:_}=await y("react-router-dom");function ss({link:C,...S}){const B=Z(),p=O(),[d,F]=u(!1),[I,A]=u(0),[f,R]=u(),{isLoggedIn:T}=D(),W=()=>{F(!d)},k=r=>{r.preventDefault()},h=r=>{const e=M(r);A(e),R(H(e))};Y(()=>{h("")},[]);const[V]=_(),w=V.get("auth");return s.jsx($,{initialValues:{password:"",confirmPassword:"",submit:null},validationSchema:z().shape({password:j().max(255).required("Password is required"),confirmPassword:j().required("Confirm Password is required").test("confirmPassword","Both Password must be match!",(r,e)=>e.parent.password===r)}),onSubmit:async(r,{setErrors:e,setStatus:o,setSubmitting:t})=>{try{p.current&&(o({success:!0}),t(!1),E(L({open:!0,message:"Successfuly reset password.",variant:"alert",alert:{color:"success"},close:!1})),setTimeout(()=>{B(T?`/pages/login/${C||"login3"}`:w?`/login?auth=${w}`:"/login",{replace:!0})},1500))}catch(a){console.error(a),p.current&&(o({success:!1}),e({submit:a.message}),t(!1))}},children:({errors:r,handleBlur:e,handleChange:o,handleSubmit:t,isSubmitting:a,touched:i,values:x})=>s.jsxs("form",{noValidate:!0,onSubmit:t,...S,children:[s.jsxs(P,{fullWidth:!0,error:!!(i.password&&r.password),children:[s.jsx(b,{htmlFor:"outlined-adornment-password-reset",children:"Password"}),s.jsx(v,{id:"outlined-adornment-password-reset",type:d?"text":"password",value:x.password,name:"password",onBlur:e,onChange:g=>{o(g),h(g.target.value)},endAdornment:s.jsx(K,{position:"end",children:s.jsx(Q,{"aria-label":"toggle password visibility",onClick:W,onMouseDown:k,edge:"end",size:"large",children:d?s.jsx(N,{}):s.jsx(J,{})})})})]}),i.password&&r.password&&s.jsx(l,{fullWidth:!0,children:s.jsx(m,{error:!0,id:"standard-weight-helper-text-reset",children:r.password})}),I!==0&&s.jsx(l,{fullWidth:!0,children:s.jsx(n,{sx:{mb:2},children:s.jsxs(c,{container:!0,spacing:2,sx:{alignItems:"center"},children:[s.jsx(c,{children:s.jsx(n,{sx:{width:85,height:8,borderRadius:"7px",bgcolor:f?.color}})}),s.jsx(c,{children:s.jsx(U,{variant:"subtitle1",sx:{fontSize:"0.75rem"},children:f?.label})})]})})}),s.jsxs(P,{fullWidth:!0,error:!!(i.confirmPassword&&r.confirmPassword),children:[s.jsx(b,{htmlFor:"outlined-adornment-confirm-password",children:"Confirm Password"}),s.jsx(v,{id:"outlined-adornment-confirm-password",type:"password",value:x.confirmPassword,name:"confirmPassword",label:"Confirm Password",onBlur:e,onChange:o})]}),i.confirmPassword&&r.confirmPassword&&s.jsx(l,{fullWidth:!0,children:s.jsxs(m,{error:!0,id:"standard-weight-helper-text-confirm-password",children:[" ",r.confirmPassword," "]})}),r.submit&&s.jsx(n,{sx:{mt:3},children:s.jsx(m,{error:!0,children:r.submit})}),s.jsx(n,{sx:{mt:1},children:s.jsx(G,{children:s.jsx(X,{disableElevation:!0,disabled:a,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Reset Password"})})})]})})}ss.propTypes={link:q.string};export{ss as default};
//# sourceMappingURL=AuthResetPassword-Cc-1w-BM.js.map
