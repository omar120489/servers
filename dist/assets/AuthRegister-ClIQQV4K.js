import{importShared as C}from"./__federation_fn_import-CJIdJiQv.js";import{j as e}from"./useForkRef-BC7kqYKT.js";import{a as R,u as V,o as $}from"./useAuth-gpoeUZ-p.js";import{F as D,c as M,a as d}from"./formik.esm-5mQln88F.js";import{A as O}from"./AnimateButton-CtU13Uu0.js";import{C as c}from"./CustomFormControl-DYO5qZVr.js";import{u as G}from"./useScriptRef-B1Ou_bIU.js";import{s as Z,a as H}from"./password-strength-Bgoot3mc.js";import{V as J,a as U}from"./VisibilityOff-CGi2pO1E.js";import{S as y}from"./Stack-B5BVBH1D.js";import{T as u}from"./Typography-DFd_zA1D.js";import{G as j}from"./Grid-s-sihYX_.js";import{b as h,O as p,F as Y}from"./OutlinedInput-DFKZAVh6.js";import{F as o}from"./FormHelperText-BLwmyjL3.js";import{I as K}from"./InputAdornment-D_aBeDhu.js";import{I as Q}from"./IconButton-BEyrMm9G.js";import{B as x}from"./Box-DmbfI6Tx.js";import{F as X,C as _}from"./FormControlLabel-vZQf_QTl.js";import{d as ee}from"./Button-Bgis-uOM.js";const{useEffect:te,useState:f}=await C("react"),{Link:se,useNavigate:re,useSearchParams:ae}=await C("react-router-dom");function Ce({...S}){const v=re(),w=G(),P=R(),[g,k]=f(!1),[B,L]=f(!0),[A,I]=f(0),[b,q]=f(),{register:z}=V(),E=()=>{k(!g)},W=t=>{t.preventDefault()},[T]=ae(),N=T.get("auth"),F=t=>{const r=Z(t);I(r),q(H(r))};return te(()=>{F("123456")},[]),e.jsxs(e.Fragment,{children:[e.jsx(y,{sx:{mb:2,alignItems:"center"},children:e.jsx(u,{variant:"subtitle1",children:"Sign up with Email address "})}),e.jsx(D,{initialValues:{email:"",password:"",firstName:"",lastName:"",submit:null},validationSchema:M().shape({firstName:d().trim().required("First name is required").min(2,"First name must be at least 2 characters").max(50,"First name must not exceed 50 characters").matches(/^[A-Za-z\s]+$/,"First name can only contain letters and spaces"),lastName:d().trim().required("Last name is required").min(2,"Last name must be at least 2 characters").max(50,"Last name must not exceed 50 characters").matches(/^[A-Za-z\s]+$/,"Last name can only contain letters and spaces"),email:d().email("Must be a valid email").max(255).required("Email is required"),password:d().required("Password is required").test("no-leading-trailing-whitespace","Password can not start or end with spaces",t=>t===t.trim()).max(10,"Password must be less than 10 characters")}),onSubmit:async(t,{setErrors:r,setStatus:a,setSubmitting:m})=>{try{const i=t.firstName.trim(),s=t.lastName.trim(),n=t.email.trim();await z?.(n,t.password,i,s),w.current&&(a({success:!0}),m(!1),P($({open:!0,message:"Your registration has been successfully completed.",variant:"alert",alert:{color:"success"},close:!1})),setTimeout(()=>{v(N?`/login?auth=${N}`:"/login",{replace:!0})},1500))}catch(i){console.error(i),w.current&&(a({success:!1}),r({submit:i.message}),m(!1))}},children:({errors:t,handleBlur:r,handleChange:a,handleSubmit:m,isSubmitting:i,touched:s,values:n})=>e.jsxs("form",{noValidate:!0,onSubmit:m,...S,children:[e.jsxs(j,{container:!0,spacing:{xs:0,sm:2},children:[e.jsx(j,{size:{xs:12,sm:6},children:e.jsxs(c,{fullWidth:!0,error:!!(s.firstName&&t.firstName),children:[e.jsx(h,{htmlFor:"outlined-adornment-first-register",children:"First Name"}),e.jsx(p,{id:"outlined-adornment-first-register",type:"text",name:"firstName",value:n.firstName,onBlur:r,onChange:a}),s.firstName&&t.firstName&&e.jsx(o,{error:!0,id:"standard-weight-helper-text--register",children:t.firstName})]})}),e.jsx(j,{size:{xs:12,sm:6},children:e.jsxs(c,{fullWidth:!0,error:!!(s.lastName&&t.lastName),children:[e.jsx(h,{htmlFor:"outlined-adornment-last-register",children:"Last Name"}),e.jsx(p,{id:"outlined-adornment-last-register",type:"text",name:"lastName",value:n.lastName,onBlur:r,onChange:a}),s.lastName&&t.lastName&&e.jsx(o,{error:!0,id:"standard-weight-helper-text--register",children:t.lastName})]})})]}),e.jsxs(c,{fullWidth:!0,error:!!(s.email&&t.email),children:[e.jsx(h,{htmlFor:"outlined-adornment-email-register",children:"Email Address / Username"}),e.jsx(p,{id:"outlined-adornment-email-register",type:"email",value:n.email,name:"email",onBlur:r,onChange:a}),s.email&&t.email&&e.jsx(o,{error:!0,id:"standard-weight-helper-text--register",children:t.email})]}),e.jsxs(c,{fullWidth:!0,error:!!(s.password&&t.password),children:[e.jsx(h,{htmlFor:"outlined-adornment-password-register",children:"Password"}),e.jsx(p,{id:"outlined-adornment-password-register",type:g?"text":"password",value:n.password,name:"password",label:"Password",onBlur:r,onChange:l=>{a(l),F(l.target.value)},endAdornment:e.jsx(K,{position:"end",children:e.jsx(Q,{"aria-label":"toggle password visibility",onClick:E,onMouseDown:W,edge:"end",size:"large",children:g?e.jsx(J,{}):e.jsx(U,{})})})}),s.password&&t.password&&e.jsx(o,{error:!0,id:"standard-weight-helper-text-password-register",children:t.password})]}),A!==0&&e.jsx(Y,{fullWidth:!0,children:e.jsx(x,{sx:{mb:2},children:e.jsxs(y,{direction:"row",sx:{gap:2,alignItems:"center"},children:[e.jsx(x,{sx:{width:85,height:8,borderRadius:"7px",bgcolor:b?.color}}),e.jsx(u,{variant:"subtitle1",sx:{fontSize:"0.75rem"},children:b?.label})]})})}),e.jsx(X,{control:e.jsx(_,{checked:B,onChange:l=>L(l.target.checked),name:"checked",color:"primary"}),label:e.jsxs(u,{variant:"subtitle1",children:["Agree with Â ",e.jsx(u,{variant:"subtitle1",component:se,to:"#",children:"Terms & Condition."})]})}),t.submit&&e.jsx(x,{sx:{mt:3},children:e.jsx(o,{error:!0,children:t.submit})}),e.jsx(x,{sx:{mt:2},children:e.jsx(O,{children:e.jsx(ee,{disableElevation:!0,disabled:i,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Sign up"})})})]})})]})}export{Ce as default};
//# sourceMappingURL=AuthRegister-ClIQQV4K.js.map
