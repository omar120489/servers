import{importShared as _}from"./__federation_fn_import-ROHmt-Wr.js";import{_ as d}from"./emotion-use-insertion-effect-with-fallbacks.browser.esm-BYJN3Zmx.js";import{m as T}from"./Button-BSxsv2fQ.js";import{g as at,h as st,t as it,j as u,s as ht,y as bt}from"./useForkRef-BcC6EfDH.js";import{f as Pt,g as At,u as nt,Y as O,M as Ct,q as pt,r as dt,Z as ct,_ as vt,E as ut,$ as gt,v as xt,w as yt,n as wt,a0 as It,B as Mt,C as kt,m as St,H as Bt,I as Lt,J as Ot,K as Rt,L as jt,N as _t,O as Tt,P as Ht,Q as Dt,R as Et,S as Ut,T as Nt,U as Xt,V as Ft,W as Wt,X as Yt}from"./useFocusedItem-Dsp7cxUc.js";import{u as ft}from"./Portal-DCIksRrR.js";import{u as $t}from"./NoSsr-CMoFUGFE.js";At("bar");const zt=Pt("bar");function Gt(){return zt()}function Zt(t,e){const s=O(t.x,e.x),a=O(t.y,e.y),r=O(t.width,e.width),o=O(t.height,e.height);return l=>({x:s(l),y:a(l),width:r(l),height:o(l)})}function Kt(t){const e={x:t.layout==="vertical"?t.x:t.xOrigin,y:t.layout==="vertical"?t.yOrigin:t.y,width:t.layout==="vertical"?t.width:0,height:t.layout==="vertical"?0:t.height};return nt({x:t.x,y:t.y,width:t.width,height:t.height},{createInterpolator:Zt,applyProps(s,a){s.setAttribute("x",a.x.toString()),s.setAttribute("y",a.y.toString()),s.setAttribute("width",a.width.toString()),s.setAttribute("height",a.height.toString())},transformProps:s=>s,initialProps:e,skip:t.skipAnimation,ref:t.ref})}function Vt(t,e){const s=O(t.x,e.x),a=O(t.y,e.y),r=O(t.width,e.width),o=O(t.height,e.height);return l=>({x:s(l),y:a(l),width:r(l),height:o(l)})}function qt(t){const e={x:t.layout==="vertical"?t.x+t.width/2:t.xOrigin,y:t.layout==="vertical"?t.yOrigin:t.y+t.height/2,width:t.width,height:t.height},s={x:t.x+t.width/2,y:t.y+t.height/2,width:t.width,height:t.height};return nt(s,{createInterpolator:Vt,transformProps:a=>a,applyProps(a,r){a.setAttribute("x",r.x.toString()),a.setAttribute("y",r.y.toString()),a.setAttribute("width",r.width.toString()),a.setAttribute("height",r.height.toString())},initialProps:e,skip:t.skipAnimation,ref:t.ref})}function Jt(t){return st("MuiBarElement",t)}const Qt=at("MuiBarElement",["root","highlighted","faded","series"]),te=t=>{const{classes:e,id:s,isHighlighted:a,isFaded:r}=t,o={root:["root",`series-${s}`,a&&"highlighted",r&&"faded"]};return it(o,Jt,e)},ee=["ownerState","skipAnimation","id","dataIndex","xOrigin","yOrigin"];await _("react");function ae(t){const{ownerState:e}=t,s=T(t,ee),a=Kt(t);return u.jsx("rect",d({},s,{filter:e.isHighlighted?"brightness(120%)":void 0,opacity:e.isFaded?.3:1,"data-highlighted":e.isHighlighted||void 0,"data-faded":e.isFaded||void 0},a))}function se(t){const e=Ct();return e!==null&&e.seriesType===t.seriesType&&e.seriesId===t.seriesId&&e.dataIndex===t.dataIndex}const ie=["id","dataIndex","classes","color","slots","slotProps","style","onClick","skipAnimation","layout","x","xOrigin","y","yOrigin","width","height"];await _("react");function ne(t){const{id:e,dataIndex:s,classes:a,color:r,slots:o,slotProps:l,style:c,onClick:h,skipAnimation:x,layout:i,x:n,xOrigin:b,y:f,yOrigin:g,width:p,height:P}=t,y=T(t,ie),C=pt({type:"bar",seriesId:e,dataIndex:s}),{isFaded:k,isHighlighted:v}=dt({seriesId:e,dataIndex:s}),w=se({seriesType:"bar",seriesId:e,dataIndex:s}),$={id:e,dataIndex:s,classes:a,color:r,isFaded:k,isHighlighted:v,isFocused:w},I=te($),S=o?.bar??ae,R=ft({elementType:S,externalSlotProps:l?.bar,externalForwardedProps:y,additionalProps:d({},C,{id:e,dataIndex:s,color:r,x:n,xOrigin:b,y:f,yOrigin:g,width:p,height:P,style:c,onClick:h,cursor:h?"pointer":"unset",stroke:"none",fill:r,skipAnimation:x,layout:i,"data-focused":w||void 0}),className:I.root,ownerState:$});return u.jsx(S,d({},R))}await _("react");function oe(t,e){const s=O(t.x,e.x),a=O(t.y,e.y),r=O(t.width,e.width),o=O(t.height,e.height),l=O(t.borderRadius,e.borderRadius);return c=>({x:s(c),y:a(c),width:r(c),height:o(c),borderRadius:l(c)})}function re(t){const e={x:t.layout==="vertical"?t.x:t.xOrigin,y:t.layout==="vertical"?t.yOrigin:t.y,width:t.layout==="vertical"?t.width:0,height:t.layout==="vertical"?0:t.height,borderRadius:t.borderRadius};return nt({x:t.x,y:t.y,width:t.width,height:t.height,borderRadius:t.borderRadius},{createInterpolator:oe,transformProps:s=>({d:ce(t.hasNegative,t.hasPositive,t.layout,s.x,s.y,s.width,s.height,t.xOrigin,t.yOrigin,s.borderRadius)}),applyProps(s,{d:a}){a&&s.setAttribute("d",a)},initialProps:e,skip:t.skipAnimation,ref:t.ref})}function le(t){const{maskId:e,x:s,y:a,width:r,height:o,skipAnimation:l}=t,{ref:c,d:h}=re({layout:t.layout??"vertical",hasNegative:t.hasNegative,hasPositive:t.hasPositive,xOrigin:t.xOrigin,yOrigin:t.yOrigin,x:s,y:a,width:r,height:o,borderRadius:t.borderRadius??0,skipAnimation:l});return!t.borderRadius||t.borderRadius<=0?null:u.jsx("clipPath",{id:e,children:u.jsx("path",{ref:c,d:h})})}function ce(t,e,s,a,r,o,l,c,h,x){if(s==="vertical"){if(e&&t){const n=Math.min(x,o/2,l/2);return`M${a},${r+l/2} v${-(l/2-n)} a${n},${n} 0 0 1 ${n},${-n} h${o-n*2} a${n},${n} 0 0 1 ${n},${n} v${l-2*n} a${n},${n} 0 0 1 ${-n},${n} h${-(o-n*2)} a${n},${n} 0 0 1 ${-n},${-n} v${-(l/2-n)}`}const i=Math.min(x,o/2);if(e)return`M${a},${Math.max(h,r+i)} v${Math.min(0,-(h-r-i))} a${i},${i} 0 0 1 ${i},${-i} h${o-i*2} a${i},${i} 0 0 1 ${i},${i} v${Math.max(0,h-r-i)} Z`;if(t)return`M${a},${Math.min(h,r+l-i)} v${Math.max(0,l-i)} a${i},${i} 0 0 0 ${i},${i} h${o-i*2} a${i},${i} 0 0 0 ${i},${-i} v${-Math.max(0,l-i)} Z`}if(s==="horizontal"){if(e&&t){const n=Math.min(x,o/2,l/2);return`M${a+o/2},${r} h${o/2-n} a${n},${n} 0 0 1 ${n},${n} v${l-n*2} a${n},${n} 0 0 1 ${-n},${n} h${-(o-2*n)} a${n},${n} 0 0 1 ${-n},${-n} v${-(l-n*2)} a${n},${n} 0 0 1 ${n},${-n} h${o/2-n}`}const i=Math.min(x,l/2);if(e)return`M${Math.min(c,a-i)},${r} h${o} a${i},${i} 0 0 1 ${i},${i} v${l-i*2} a${i},${i} 0 0 1 ${-i},${i} h${-o} Z`;if(t)return`M${Math.max(c,a+o+i)},${r} h${-o} a${i},${i} 0 0 0 ${-i},${i} v${l-i*2} a${i},${i} 0 0 0 ${i},${i} h${o} Z`}}function he(t){return st("MuiBarLabel",t)}const tt=at("MuiBarLabel",["root","highlighted","faded","animate"]),de=t=>{const{classes:e,seriesId:s,isFaded:a,isHighlighted:r,skipAnimation:o}=t,l={root:["root",`series-${s}`,r&&"highlighted",a&&"faded",!o&&"animate"]};return it(l,he,e)},ue=t=>{const{barLabel:e,value:s,dataIndex:a,seriesId:r,height:o,width:l}=t;return e==="value"?s?s?.toString():null:e({seriesId:r,dataIndex:a,value:s},{bar:{height:o,width:l}})},ge=["seriesId","dataIndex","color","isFaded","isHighlighted","classes","skipAnimation","layout","xOrigin","yOrigin"];await _("react");const xe=ht("text",{name:"MuiBarLabel",slot:"Root",overridesResolver:(t,e)=>[{[`&.${tt.faded}`]:e.faded},{[`&.${tt.highlighted}`]:e.highlighted},e.root]})(({theme:t})=>d({},t?.typography?.body2,{stroke:"none",fill:(t.vars||t)?.palette?.text?.primary,transition:"opacity 0.2s ease-in, fill 0.2s ease-in",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none",opacity:1,[`&.${tt.faded}`]:{opacity:.3}}));function ye(t){const e=$t({props:t,name:"MuiBarLabel"}),s=T(e,ge),a=qt(e);return u.jsx(xe,d({},s,a))}const fe=["seriesId","classes","color","dataIndex","barLabel","slots","slotProps","xOrigin","yOrigin","x","y","width","height","value","skipAnimation","layout"],$e=["ownerState"];await _("react");function me(t){const{seriesId:e,classes:s,color:a,dataIndex:r,barLabel:o,slots:l,slotProps:c,xOrigin:h,yOrigin:x,x:i,y:n,width:b,height:f,value:g,skipAnimation:p,layout:P}=t,y=T(t,fe),{isFaded:C,isHighlighted:k}=dt({seriesId:e,dataIndex:r}),v={seriesId:e,classes:s,color:a,isFaded:C,isHighlighted:k,dataIndex:r,skipAnimation:p,layout:P},w=de(v),$=l?.barLabel??ye,I=ft({elementType:$,externalSlotProps:c?.barLabel,additionalProps:d({},y,{xOrigin:h,yOrigin:x,x:i,y:n,width:b,height:f,className:w.root}),ownerState:v}),{ownerState:S}=I,R=T(I,$e);if(!o)return null;const B=ue({barLabel:o,value:g,dataIndex:r,seriesId:e,height:f,width:b});return B?u.jsx($,d({},R,S,{children:B})):null}function be(t){return st("MuiBar",t)}const Ne=at("MuiBar",["root","series","seriesLabels"]),mt=t=>it({root:["root"],series:["series"],seriesLabels:["seriesLabels"]},be,t),Pe=["bars","skipAnimation"],Ae=await _("react");function Ce(t){const{bars:e,skipAnimation:s}=t,a=T(t,Pe),r=mt();return u.jsx(Ae.Fragment,{children:e.flatMap(({seriesId:o,data:l})=>u.jsx("g",{className:r.seriesLabels,"data-series":o,children:l.map(({xOrigin:c,yOrigin:h,x,y:i,dataIndex:n,color:b,value:f,width:g,height:p,layout:P})=>u.jsx(me,d({seriesId:o,dataIndex:n,value:f,color:b,xOrigin:c,yOrigin:h,x,y:i,width:g,height:p,skipAnimation:s??!1,layout:P??"vertical"},a),n))},o))})}const et=(t,e)=>{const s=`${t}-axis`,a=`${t}Axis`;return e===(t==="x"?ut:gt)?`The first \`${a}\``:`The ${s} with id "${e}"`};function pe(t,e,s,a,r,o,l){const c=r[a],h=l[o],x=t?c:h,i=t?h:c,n=t?a:o,b=t?o:a,f=t?"x":"y",g=t?"y":"x";if(!ct(x))throw new Error(`MUI X Charts: ${et(f,n)} should be of type "band" to display the bar series of id "${e}".`);if(x.data===void 0)throw new Error(`MUI X Charts: ${et(f,n)} should have data property.`);if(ct(i)||vt(i))throw new Error(`MUI X Charts: ${et(g,b)} should be a continuous type to display the bar series of id "${e}".`)}function ve(t,e,s){const a=Gt()??{series:{},stackingGroups:[]},r=xt().xAxisIds[0],o=yt().yAxisIds[0],l=wt(),{series:c,stackingGroups:h}=a,x={};return{completedData:h.flatMap(({ids:n},b)=>{const f=t.left,g=t.left+t.width,p=t.top,P=t.top+t.height;return n.map(y=>{const C=c[y].xAxisId??r,k=c[y].yAxisId??o,v=e[C],w=s[k],$=c[y].layout==="vertical",I=($?w.reverse:v.reverse)??!1;pe($,y,c[y],C,e,k,s);const S=$?v:w,R=v.scale,B=w.scale,L=It(c[y],e[C],s[k]),K=S.scale.bandwidth(),{barWidth:D,offset:V}=we({bandWidth:K,numberOfGroups:h.length,gapRatio:S.barGapRatio}),E=b*(D+V),{stackedData:q,data:U,layout:J,minBarSize:Q}=c[y],F=[];for(let j=0;j<S.data.length;j+=1){const W=S.data[j],N=U[j];if(N==null)continue;const Y=q[j].map(lt=>$?B(lt):R(lt)),z=Math.round(Math.min(...Y)),G=Math.round(Math.max(...Y)),rt=c[y].stack,A=N===0?0:Math.max(Q,G-z),H=Ie($,N,I)?G-A:z,m={seriesId:y,dataIndex:j,layout:J,x:$?R(W)+E:H,y:$?H:B(W)+E,xOrigin:R(0)??0,yOrigin:B(0)??0,height:$?A:D,width:$?D:A,color:L(j),value:U[j],maskId:`${l}_${rt||y}_${b}_${j}`};if(m.x>g||m.x+m.width<f||m.y>P||m.y+m.height<p)continue;x[m.maskId]||(x[m.maskId]={id:m.maskId,width:0,height:0,hasNegative:!1,hasPositive:!1,layout:m.layout,xOrigin:R(0),yOrigin:B(0),x:0,y:0});const M=x[m.maskId];M.width=m.layout==="vertical"?m.width:M.width+m.width,M.height=m.layout==="vertical"?M.height+m.height:m.height,M.x=Math.min(M.x===0?1/0:M.x,m.x),M.y=Math.min(M.y===0?1/0:M.y,m.y);const Z=m.value??0;M.hasNegative=M.hasNegative||(I?Z>0:Z<0),M.hasPositive=M.hasPositive||(I?Z<0:Z>0),F.push(m)}return{seriesId:y,data:F}})}),masksData:Object.values(x)}}function we({bandWidth:t,numberOfGroups:e,gapRatio:s}){if(s===0)return{barWidth:t/e,offset:0};const a=t/(e+(e-1)*s),r=s*a;return{barWidth:a,offset:r}}function Ie(t,e,s){const a=t&&e>0,r=!t&&e<0,o=a||r;return s?!o:o}const Me=["skipAnimation","onItemClick","borderRadius","barLabel"];await _("react");const ke=ht("g",{name:"MuiBarPlot",slot:"Root"})({[`& .${Qt.root}`]:{transition:"opacity 0.2s ease-in, fill 0.2s ease-in"}});function Se(t){const{skipAnimation:e,onItemClick:s,borderRadius:a,barLabel:r}=t,o=T(t,Me),l=Mt(),c=kt(l||e),{xAxis:h}=xt(),{yAxis:x}=yt(),{completedData:i,masksData:n}=ve(St(),h,x),b=!a||a<=0,f=mt();return u.jsxs(ke,{className:f.root,children:[!b&&n.map(({id:g,x:p,y:P,xOrigin:y,yOrigin:C,width:k,height:v,hasPositive:w,hasNegative:$,layout:I})=>u.jsx(le,{maskId:g,borderRadius:a,hasNegative:$,hasPositive:w,layout:I,x:p,y:P,xOrigin:y,yOrigin:C,width:k,height:v,skipAnimation:c??!1},g)),i.map(({seriesId:g,data:p})=>u.jsx("g",{"data-series":g,className:f.series,children:p.map(({dataIndex:P,color:y,maskId:C,layout:k,x:v,xOrigin:w,y:$,yOrigin:I,width:S,height:R})=>{const B=u.jsx(ne,d({id:g,dataIndex:P,color:y,skipAnimation:c??!1,layout:k??"vertical",x:v,xOrigin:w,y:$,yOrigin:I,width:S,height:R},o,{onClick:s&&(L=>{s(L,{type:"bar",seriesId:g,dataIndex:P})})}),P);return b?B:u.jsx("g",{clipPath:`url(#${C})`,children:B},P)})},g)),r&&u.jsx(Ce,d({bars:i,skipAnimation:c,barLabel:r},o))]})}const Be=[Bt,Lt,Ot,Rt,jt],Le=["xAxis","yAxis","series","width","height","margin","colors","dataset","sx","axisHighlight","grid","children","slots","slotProps","skipAnimation","loading","layout","onItemClick","highlightedItem","onHighlightChange","borderRadius","barLabel","className","hideLegend","showToolbar"],X=await _("react"),Oe=t=>{const{xAxis:e,yAxis:s,series:a,width:r,height:o,margin:l,colors:c,dataset:h,sx:x,axisHighlight:i,grid:n,children:b,slots:f,slotProps:g,skipAnimation:p,loading:P,layout:y,onItemClick:C,highlightedItem:k,onHighlightChange:v,borderRadius:w,barLabel:$,className:I}=t,S=T(t,Le),B=`${bt()}-clip-path`,L=y==="horizontal"||y===void 0&&a.some(A=>A.layout==="horizontal"),K=X.useMemo(()=>[{id:ut,scaleType:"band",data:Array.from({length:Math.max(...a.map(A=>(A.data??h??[]).length))},(A,H)=>H)}],[h,a]),D=X.useMemo(()=>[{id:gt,scaleType:"band",data:Array.from({length:Math.max(...a.map(A=>(A.data??h??[]).length))},(A,H)=>H)}],[h,a]),V=X.useMemo(()=>a.map(A=>d({type:"bar"},A,{layout:L?"horizontal":"vertical"})),[L,a]),E=L?void 0:K,q=X.useMemo(()=>e?L?e:e.map(A=>d({scaleType:"band"},A)):E,[E,L,e]),U=L?D:void 0,J=X.useMemo(()=>s?L?s.map(A=>d({scaleType:"band"},A)):s:U,[U,L,s]),Q=d({},S,{series:V,width:r,height:o,margin:l,colors:c,dataset:h,xAxis:q,yAxis:J,highlightedItem:k,onHighlightChange:v,disableAxisListener:g?.tooltip?.trigger!=="axis"&&i?.x==="none"&&i?.y==="none",className:I,skipAnimation:p,plugins:Be}),F={onItemClick:C,slots:f,slotProps:g,borderRadius:w,barLabel:$},j={vertical:n?.vertical,horizontal:n?.horizontal},W={clipPath:`url(#${B})`},N={id:B},ot={slots:f,slotProps:g,loading:P},Y={slots:f,slotProps:g},z=d({},L?{y:"band"}:{x:"band"},i),G={slots:f,slotProps:g};return{chartsWrapperProps:{sx:x,legendPosition:t.slotProps?.legend?.position,legendDirection:t.slotProps?.legend?.direction,hideLegend:t.hideLegend??!1},chartContainerProps:Q,barPlotProps:F,gridProps:j,clipPathProps:N,clipPathGroupProps:W,overlayProps:ot,chartsAxisProps:Y,axisHighlightProps:z,legendProps:G,children:b}},Re=await _("react"),Xe=Re.forwardRef(function(e,s){const a=$t({props:e,name:"MuiBarChart"}),{chartsWrapperProps:r,chartContainerProps:o,barPlotProps:l,gridProps:c,clipPathProps:h,clipPathGroupProps:x,overlayProps:i,chartsAxisProps:n,axisHighlightProps:b,legendProps:f,children:g}=Oe(a),{chartDataProviderProps:p,chartsSurfaceProps:P}=_t(o,s),y=a.slots?.tooltip??Tt,C=a.slots?.toolbar;return u.jsx(Ht,d({},p,{children:u.jsxs(Dt,d({},r,{children:[a.showToolbar&&C?u.jsx(C,d({},a.slotProps?.toolbar)):null,!a.hideLegend&&u.jsx(Et,d({},f)),u.jsxs(Ut,d({},P,{children:[u.jsx(Nt,d({},c)),u.jsxs("g",d({},x,{children:[u.jsx(Se,d({},l)),u.jsx(Xt,d({},i)),u.jsx(Ft,d({},b))]})),u.jsx(Wt,d({},n)),u.jsx(Yt,d({},h)),g]})),!a.loading&&u.jsx(y,d({},a.slotProps?.tooltip))]}))}))});export{Be as BAR_CHART_PLUGINS,Xe as BarChart,ne as BarElement,ye as BarLabel,Se as BarPlot,Ne as barClasses,Qt as barElementClasses,tt as barLabelClasses,Jt as getBarElementUtilityClass,he as getBarLabelUtilityClass,be as getBarUtilityClass,te as useUtilityClasses};
//# sourceMappingURL=index-BT0bAXsm.js.map
